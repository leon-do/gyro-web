<button onclick="onClick()">Click me</button>
<div id="gyro">hello</div>

<script>
    window.addEventListener('deviceorientation', (event) => {
        const alpha = event.alpha;
        const beta = event.beta;
        const gamma = event.gamma;

        console.log(alpha, beta, gamma);
        document.getElementById('gyro').innerHTML = `
            <div>
                <div>alpha: ${alpha}</div>
                <div>beta: ${beta}</div>
                <div>gamma: ${gamma}</div>
            </div>
        `;
    });


    function onClick() {
        if (typeof DeviceMotionEvent.requestPermission === 'function') {
            // Handle iOS 13+ devices.
            DeviceMotionEvent.requestPermission()
                .then((state) => {
                    if (state === 'granted') {
                        window.addEventListener('devicemotion', handleOrientation);
                    } else {
                        console.error('Request to access the orientation was rejected');
                    }
                })
                .catch(console.error);
        } else {
            // Handle regular non iOS 13+ devices.
            window.addEventListener('devicemotion', handleOrientation);
        }
    }
</script>